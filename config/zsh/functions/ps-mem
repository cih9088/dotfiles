if [ ${PLATFORM} = "OSX" ]; then
  local cmd='ps -m -axo user,pid,ppid,pcpu,pmem,state,time,command'
elif [ ${PLATFORM} = "LINUX" ]; then
  local cmd='ps --sort -rss -axo user,pid,ppid,pcpu,pmem,nlwp,state,time,command'
else
  echo "${PLATFORM} is not supported" >&2
  return 1
fi

if [ "$1" = "-l" ]; then
  eval ${cmd} | head -n 16
else
  eval ${cmd} | head -n 16 | cut -c -80
fi
